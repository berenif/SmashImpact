<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Wolf AI Test - Isometric Game</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      touch-action: none;
      user-select: none;
      -webkit-user-select: none;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: white;
      overflow: hidden;
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    #gameCanvas {
      display: block;
      cursor: crosshair;
      position: absolute;
      top: 0;
      left: 0;
    }

    /* Debug Panel */
    .debug-panel {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(15, 23, 42, 0.95);
      padding: 15px;
      border-radius: 10px;
      font-size: 12px;
      min-width: 250px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      max-height: 80vh;
      overflow-y: auto;
    }

    .debug-panel h3 {
      color: #60a5fa;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .debug-section {
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .debug-section:last-child {
      border-bottom: none;
    }

    .debug-item {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
      padding: 3px 5px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 3px;
    }

    .debug-label {
      color: #94a3b8;
    }

    .debug-value {
      color: #fbbf24;
      font-weight: bold;
    }

    /* Wolf States Colors */
    .state-idle { color: #94a3b8; }
    .state-patrol { color: #60a5fa; }
    .state-stalking { color: #fbbf24; }
    .state-ambush { color: #a78bfa; }
    .state-chasing { color: #f87171; }
    .state-flanking { color: #fb923c; }
    .state-attacking { color: #ef4444; }
    .state-retreating { color: #10b981; }
    .state-howling { color: #e879f9; }
    .state-regrouping { color: #34d399; }

    /* Control Panel */
    .control-panel {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(15, 23, 42, 0.95);
      padding: 15px 20px;
      border-radius: 10px;
      display: flex;
      gap: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .control-btn {
      padding: 8px 16px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }

    .control-btn:hover {
      background: #2563eb;
      transform: translateY(-2px);
    }

    .control-btn:active {
      transform: scale(0.95);
    }

    .control-btn.danger {
      background: #ef4444;
    }

    .control-btn.danger:hover {
      background: #dc2626;
    }

    .control-btn.success {
      background: #10b981;
    }

    .control-btn.success:hover {
      background: #059669;
    }

    /* Info Panel */
    .info-panel {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(15, 23, 42, 0.95);
      padding: 15px;
      border-radius: 10px;
      max-width: 300px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .info-panel h2 {
      color: #60a5fa;
      margin-bottom: 10px;
      font-size: 18px;
    }

    .info-panel p {
      color: #cbd5e1;
      font-size: 12px;
      line-height: 1.5;
      margin-bottom: 10px;
    }

    .controls-list {
      font-size: 11px;
      color: #94a3b8;
    }

    .controls-list li {
      margin: 5px 0;
      list-style: none;
    }

    .controls-list strong {
      color: #fbbf24;
    }

    /* FPS Counter */
    #fpsCounter {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      padding: 5px 10px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 5px;
      font-size: 12px;
      font-family: monospace;
    }

    /* Wolf Visual Indicators */
    .wolf-indicator {
      position: absolute;
      pointer-events: none;
      font-size: 10px;
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }

    /* Mobile controls */
    .mobile-controls {
      display: none;
      position: absolute;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
    }

    .joystick-container {
      width: 120px;
      height: 120px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      position: relative;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .joystick-knob {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
    }

    @media (max-width: 768px) {
      .mobile-controls {
        display: block;
      }
      
      .debug-panel {
        font-size: 10px;
        min-width: 200px;
        padding: 10px;
      }
      
      .control-panel {
        bottom: 150px;
        flex-wrap: wrap;
      }
      
      .info-panel {
        display: none;
      }
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  
  <div id="fpsCounter">FPS: 0</div>
  
  <!-- Info Panel -->
  <div class="info-panel">
    <h2>üê∫ Wolf AI Testing Ground</h2>
    <p>Test advanced wolf pack behaviors in a controlled environment</p>
    <ul class="controls-list">
      <li><strong>WASD/Arrows:</strong> Move</li>
      <li><strong>Mouse:</strong> Aim</li>
      <li><strong>Click:</strong> Shoot</li>
      <li><strong>Space:</strong> Dash</li>
      <li><strong>1-5:</strong> Spawn wolves</li>
      <li><strong>R:</strong> Reset</li>
      <li><strong>P:</strong> Pause</li>
      <li><strong>D:</strong> Toggle debug</li>
    </ul>
  </div>
  
  <!-- Debug Panel -->
  <div class="debug-panel" id="debugPanel">
    <h3>üîç Debug Information</h3>
    
    <div class="debug-section">
      <h4 style="color: #34d399; font-size: 12px;">Player Stats</h4>
      <div class="debug-item">
        <span class="debug-label">Health:</span>
        <span class="debug-value" id="playerHealth">100/100</span>
      </div>
      <div class="debug-item">
        <span class="debug-label">Position:</span>
        <span class="debug-value" id="playerPos">0, 0</span>
      </div>
      <div class="debug-item">
        <span class="debug-label">Score:</span>
        <span class="debug-value" id="playerScore">0</span>
      </div>
    </div>
    
    <div class="debug-section">
      <h4 style="color: #f87171; font-size: 12px;">Wolf Pack</h4>
      <div class="debug-item">
        <span class="debug-label">Active Wolves:</span>
        <span class="debug-value" id="wolfCount">0</span>
      </div>
      <div class="debug-item">
        <span class="debug-label">Pack Strategy:</span>
        <span class="debug-value" id="packStrategy">none</span>
      </div>
      <div id="wolfList"></div>
    </div>
    
    <div class="debug-section">
      <h4 style="color: #60a5fa; font-size: 12px;">Game State</h4>
      <div class="debug-item">
        <span class="debug-label">Wave:</span>
        <span class="debug-value" id="waveNumber">1</span>
      </div>
      <div class="debug-item">
        <span class="debug-label">Enemies:</span>
        <span class="debug-value" id="enemyCount">0</span>
      </div>
      <div class="debug-item">
        <span class="debug-label">Projectiles:</span>
        <span class="debug-value" id="projectileCount">0</span>
      </div>
    </div>
  </div>
  
  <!-- Control Panel -->
  <div class="control-panel">
    <button class="control-btn" onclick="spawnWolfPack(3)">Spawn 3 Wolves</button>
    <button class="control-btn" onclick="spawnWolfPack(5)">Spawn 5 Wolves</button>
    <button class="control-btn success" onclick="healPlayer()">Heal Player</button>
    <button class="control-btn" onclick="toggleDebugView()">Toggle Debug</button>
    <button class="control-btn" onclick="togglePause()">Pause</button>
    <button class="control-btn danger" onclick="resetGame()">Reset</button>
  </div>
  
  <!-- Mobile Controls -->
  <div class="mobile-controls">
    <div class="joystick-container" id="joystick">
      <div class="joystick-knob" id="joystickKnob"></div>
    </div>
  </div>

  <!-- Load Scripts -->
  <script src="visual-effects.js"></script>
  <script src="wolf-ai.js"></script>
  <script src="wolf-integration-fix.js"></script>
  <script src="isometric-game.js"></script>
  
  <script>
    // Enhanced game state for wolf testing
    let debugMode = true;
    let wolfDebugInfo = new Map();
    
    // Override game initialization for wolf testing
    document.addEventListener('DOMContentLoaded', function() {
      // Wait for all scripts to load
      setTimeout(() => {
        if (window.IsometricGame) {
          initWolfTesting();
        } else {
          console.error('Game not loaded properly');
        }
      }, 100);
    });
    
    function initWolfTesting() {
      const game = window.IsometricGame;
      if (!game || !game.gameState) {
        console.error('Game state not available');
        return;
      }
      
      // Add wolf-specific properties
      game.gameState.wolves = [];
      game.gameState.wolfPackCoordinator = null;
      game.gameState.debugMode = debugMode;
      
      // Initialize wolf pack coordinator
      if (window.WolfAI) {
        game.gameState.wolfPackCoordinator = new window.WolfAI.PackCoordinator();
        console.log('Wolf Pack Coordinator initialized');
      }
      
      // Hook into the game update loop by overriding the game's internal functions
      if (window.IsometricGame && window.IsometricGame.gameState) {
        // Store original functions
        const originalUpdate = window.IsometricGame.gameState.update;
        const originalRender = window.IsometricGame.gameState.render;
        
        // Override update function
        window.IsometricGame.gameState.update = function(deltaTime) {
          if (originalUpdate) originalUpdate.call(this, deltaTime);
          updateWolves(deltaTime);
          updateDebugInfo();
        };
        
        // Override render function
        window.IsometricGame.gameState.render = function() {
          if (originalRender) originalRender.call(this);
          if (debugMode) {
            renderWolfDebug();
          }
        };
      }
      
      // Add keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        switch(e.key) {
          case '1': spawnWolfPack(1); break;
          case '2': spawnWolfPack(2); break;
          case '3': spawnWolfPack(3); break;
          case '4': spawnWolfPack(4); break;
          case '5': spawnWolfPack(5); break;
          case 'r': case 'R': resetGame(); break;
          case 'p': case 'P': togglePause(); break;
          case 'd': case 'D': toggleDebugView(); break;
          case 'h': case 'H': healPlayer(); break;
        }
      });
      
      // Start with a small wolf pack for testing
      setTimeout(() => {
        spawnWolfPack(2);
      }, 1000);
    }
    
    function updateWolves(deltaTime) {
      const game = window.IsometricGame;
      if (!game || !game.gameState) return;
      
      const gameState = game.gameState;
      const wolves = gameState.wolves || [];
      
      if (wolves.length === 0) return;
      
      // Get players for wolf targeting
      const players = Array.from(gameState.players.values());
      
      // Update each wolf
      for (let i = wolves.length - 1; i >= 0; i--) {
        const wolf = wolves[i];
        
        // Remove dead wolves
        if (wolf.state === window.WolfAI.WolfState.DEAD || wolf.health <= 0) {
          wolves.splice(i, 1);
          
          // Remove from enemies array too
          const enemyIndex = gameState.enemies.indexOf(wolf);
          if (enemyIndex > -1) {
            gameState.enemies.splice(enemyIndex, 1);
          }
          
          // Update score
          gameState.score += wolf.score || 50;
          gameState.rupees += Math.floor((wolf.score || 50) / 2);
          
          continue;
        }
        
        // Update wolf AI
        wolf.update(deltaTime, wolves, players, gameState.obstacles);
        
        // Store debug info
        wolfDebugInfo.set(wolf.id, {
          state: wolf.state,
          role: wolf.role,
          health: wolf.health,
          maxHealth: wolf.maxHealth,
          target: wolf.target ? wolf.target.id : 'none',
          aggression: wolf.aggression,
          position: { x: wolf.x.toFixed(1), y: wolf.y.toFixed(1) }
        });
      }
      
      // Update pack coordination
      if (gameState.wolfPackCoordinator) {
        gameState.wolfPackCoordinator.packs.forEach((pack, packId) => {
          gameState.wolfPackCoordinator.updatePack(packId);
          
          // Coordinate attacks
          if (pack.members.length > 0 && players.length > 0) {
            const alpha = pack.alpha;
            if (alpha && alpha.target && !pack.target) {
              gameState.wolfPackCoordinator.coordinateAttack(pack, alpha.target);
            }
          }
        });
      }
    }
    
    function spawnWolfPack(count) {
      const game = window.IsometricGame;
      if (!game || !game.gameState || !window.WolfAI) {
        console.error('Cannot spawn wolves - system not ready');
        return;
      }
      
      const gameState = game.gameState;
      const pack = [];
      
      for (let i = 0; i < count; i++) {
        // Random spawn position on map edge
        const edge = Math.floor(Math.random() * 4);
        let x, y;
        
        const gridWidth = game.CONFIG.GRID_WIDTH;
        const gridHeight = game.CONFIG.GRID_HEIGHT;
        
        switch(edge) {
          case 0: // Top
            x = 2 + Math.random() * (gridWidth - 4);
            y = 1;
            break;
          case 1: // Right
            x = gridWidth - 2;
            y = 2 + Math.random() * (gridHeight - 4);
            break;
          case 2: // Bottom
            x = 2 + Math.random() * (gridWidth - 4);
            y = gridHeight - 2;
            break;
          case 3: // Left
            x = 2;
            y = 2 + Math.random() * (gridHeight - 4);
            break;
        }
        
        // Create wolf instance
        const wolfId = `wolf_${Date.now()}_${i}`;
        const wolf = new window.WolfAI.Wolf(x, y, wolfId, {
          gridWidth: gridWidth,
          gridHeight: gridHeight,
          obstacles: gameState.obstacles,
          particles: gameState.particles,
          playSound: (type) => console.log(`Wolf sound: ${type}`)
        });
        
        // Scale stats based on current wave
        const waveScaling = Math.pow(1.1, (gameState.wave?.current || 1) - 1);
        wolf.health *= waveScaling;
        wolf.maxHealth = wolf.health;
        wolf.damage *= Math.pow(1.05, (gameState.wave?.current || 1) - 1);
        
        // Add game-specific properties
        wolf.type = 'wolf';
        wolf.score = 50 + (gameState.wave?.current || 1) * 10;
        wolf.radius = 0.4;
        wolf.color = '#4a5568';
        
        // Custom draw method for isometric view
        wolf.draw = function(ctx) {
          if (!window.cartesianToIsometric) return;
          
          const iso = window.cartesianToIsometric(this.x, this.y, this.z);
          
          ctx.save();
          ctx.translate(iso.x, iso.y);
          
          // Shadow
          ctx.fillStyle = `rgba(0, 0, 0, ${0.4 * (1 - this.z / 10)})`;
          ctx.beginPath();
          ctx.ellipse(0, 5, 25, 12, 0, 0, Math.PI * 2);
          ctx.fill();
          
          // Body color (red flash when hit)
          const bodyColor = this.hitFlash > 0 ? '#ef4444' : '#4a5568';
          
          // Wolf body
          ctx.fillStyle = bodyColor;
          ctx.save();
          ctx.rotate(this.facing);
          
          // Main body
          ctx.beginPath();
          ctx.ellipse(0, -10, 20, 15, 0, 0, Math.PI * 2);
          ctx.fill();
          
          // Head
          ctx.beginPath();
          ctx.ellipse(15, -12, 12, 10, 0, 0, Math.PI * 2);
          ctx.fill();
          
          // Snout
          ctx.beginPath();
          ctx.ellipse(25, -10, 8, 6, 0, 0, Math.PI * 2);
          ctx.fill();
          
          // Tail animation
          const tailWag = Math.sin(this.animationPhase * 10) * 0.2;
          ctx.save();
          ctx.rotate(tailWag);
          ctx.beginPath();
          ctx.ellipse(-20, -8, 15, 8, -0.3, 0, Math.PI * 2);
          ctx.fill();
          ctx.restore();
          
          // Glowing eyes based on state
          if (this.eyeGlow > 0) {
            ctx.shadowColor = '#ff0000';
            ctx.shadowBlur = 10 * this.eyeGlow;
            ctx.fillStyle = `rgba(255, 0, 0, ${this.eyeGlow})`;
            ctx.beginPath();
            ctx.arc(18, -15, 2, 0, Math.PI * 2);
            ctx.arc(22, -15, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
          }
          
          ctx.restore();
          
          // Health bar
          if (this.health < this.maxHealth) {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.fillRect(-20, -35, 40, 4);
            
            const healthPercent = this.health / this.maxHealth;
            ctx.fillStyle = healthPercent > 0.3 ? '#10b981' : '#ef4444';
            ctx.fillRect(-20, -35, 40 * healthPercent, 4);
          }
          
          // Debug state indicator
          if (gameState.debugMode) {
            ctx.fillStyle = getStateColor(this.state);
            ctx.font = 'bold 10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(this.state, 0, -45);
            
            if (this.role) {
              ctx.fillStyle = '#fbbf24';
              ctx.font = '9px Arial';
              ctx.fillText(`[${this.role}]`, 0, -55);
            }
          }
          
          ctx.restore();
        };
        
        // Add to game arrays
        gameState.wolves.push(wolf);
        gameState.enemies.push(wolf);
        pack.push(wolf);
      }
      
      // Create pack with coordinator
      if (gameState.wolfPackCoordinator && pack.length > 0) {
        const packData = gameState.wolfPackCoordinator.createPack(pack);
        console.log(`Created wolf pack with ${count} wolves`);
      }
    }
    
    function getStateColor(state) {
      const colors = {
        idle: '#94a3b8',
        patrol: '#60a5fa',
        stalking: '#fbbf24',
        ambush: '#a78bfa',
        chasing: '#f87171',
        flanking: '#fb923c',
        attacking: '#ef4444',
        retreating: '#10b981',
        howling: '#e879f9',
        regrouping: '#34d399',
        dead: '#475569'
      };
      return colors[state] || '#ffffff';
    }
    
    function renderWolfDebug() {
      const game = window.IsometricGame;
      if (!game || !game.gameState) return;
      
      const ctx = game.gameState.ctx || document.getElementById('gameCanvas').getContext('2d');
      const wolves = game.gameState.wolves || [];
      
      // Draw debug lines for wolf targeting
      wolves.forEach(wolf => {
        if (wolf.target && wolf.state !== 'dead') {
          const wolfIso = window.cartesianToIsometric(wolf.x, wolf.y, 0);
          const targetIso = window.cartesianToIsometric(wolf.target.x, wolf.target.y, 0);
          
          ctx.save();
          ctx.strokeStyle = getStateColor(wolf.state);
          ctx.lineWidth = 1;
          ctx.globalAlpha = 0.3;
          ctx.setLineDash([5, 5]);
          ctx.beginPath();
          ctx.moveTo(wolfIso.x, wolfIso.y);
          ctx.lineTo(targetIso.x, targetIso.y);
          ctx.stroke();
          ctx.restore();
        }
        
        // Draw patrol paths
        if (wolf.patrolPath && wolf.patrolPath.length > 0) {
          ctx.save();
          ctx.strokeStyle = '#60a5fa';
          ctx.lineWidth = 1;
          ctx.globalAlpha = 0.2;
          ctx.setLineDash([2, 2]);
          
          for (let i = 0; i < wolf.patrolPath.length; i++) {
            const point = wolf.patrolPath[i];
            const nextPoint = wolf.patrolPath[(i + 1) % wolf.patrolPath.length];
            
            const p1 = window.cartesianToIsometric(point.x, point.y, 0);
            const p2 = window.cartesianToIsometric(nextPoint.x, nextPoint.y, 0);
            
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
          }
          ctx.restore();
        }
      });
    }
    
    function updateDebugInfo() {
      const game = window.IsometricGame;
      if (!game || !game.gameState) return;
      
      const gameState = game.gameState;
      const player = gameState.localPlayer;
      
      // Update player stats
      if (player) {
        document.getElementById('playerHealth').textContent = 
          `${Math.ceil(player.health)}/${player.maxHealth}`;
        document.getElementById('playerPos').textContent = 
          `${player.x.toFixed(1)}, ${player.y.toFixed(1)}`;
      }
      
      document.getElementById('playerScore').textContent = gameState.score || 0;
      
      // Update wolf stats
      const wolves = gameState.wolves || [];
      document.getElementById('wolfCount').textContent = wolves.length;
      
      // Update pack strategy
      let strategy = 'none';
      if (gameState.wolfPackCoordinator) {
        gameState.wolfPackCoordinator.packs.forEach(pack => {
          if (pack.strategy) {
            strategy = pack.strategy;
          }
        });
      }
      document.getElementById('packStrategy').textContent = strategy;
      
      // Update wolf list
      const wolfListHtml = wolves.map((wolf, i) => {
        const info = wolfDebugInfo.get(wolf.id) || {};
        return `
          <div class="debug-item" style="margin-top: 5px;">
            <span class="debug-label">Wolf ${i + 1}:</span>
            <span class="state-${wolf.state.toLowerCase()}" style="font-size: 10px;">
              ${wolf.state} ${info.role ? `[${info.role}]` : ''}
            </span>
          </div>
        `;
      }).join('');
      
      document.getElementById('wolfList').innerHTML = wolfListHtml;
      
      // Update game stats
      document.getElementById('waveNumber').textContent = gameState.wave?.current || 1;
      document.getElementById('enemyCount').textContent = gameState.enemies?.length || 0;
      document.getElementById('projectileCount').textContent = gameState.projectiles?.length || 0;
      
      // Update FPS
      const game = window.IsometricGame;
      const fps = game ? game.CONFIG.FPS : 60;
      document.getElementById('fpsCounter').textContent = `FPS: ${fps}`;
    }
    
    function toggleDebugView() {
      debugMode = !debugMode;
      const game = window.IsometricGame;
      if (game && game.gameState) {
        game.gameState.debugMode = debugMode;
      }
      
      const debugPanel = document.getElementById('debugPanel');
      debugPanel.style.display = debugMode ? 'block' : 'none';
    }
    
    function togglePause() {
      const game = window.IsometricGame;
      if (game && game.gameState) {
        game.gameState.paused = !game.gameState.paused;
      }
    }
    
    function healPlayer() {
      const game = window.IsometricGame;
      if (game && game.gameState && game.gameState.localPlayer) {
        game.gameState.localPlayer.health = game.gameState.localPlayer.maxHealth;
      }
    }
    
    function resetGame() {
      const game = window.IsometricGame;
      if (!game || !game.gameState) return;
      
      // Clear wolves
      game.gameState.wolves = [];
      game.gameState.enemies = game.gameState.enemies.filter(e => e.type !== 'wolf');
      
      // Reset pack coordinator
      if (game.gameState.wolfPackCoordinator) {
        game.gameState.wolfPackCoordinator.packs.clear();
        game.gameState.wolfPackCoordinator.wolfPacks.clear();
      }
      
      // Reset player
      if (game.gameState.localPlayer) {
        game.gameState.localPlayer.health = game.gameState.localPlayer.maxHealth;
        game.gameState.localPlayer.x = game.CONFIG.GRID_WIDTH / 2;
        game.gameState.localPlayer.y = game.CONFIG.GRID_HEIGHT / 2;
      }
      
      // Reset score
      game.gameState.score = 0;
      game.gameState.rupees = 0;
      
      // Clear debug info
      wolfDebugInfo.clear();
      
      // Spawn new wolves after a short delay
      setTimeout(() => {
        spawnWolfPack(2);
      }, 500);
    }
  </script>
  <!-- Mobile Orientation Detection -->
  <script src="mobile-orientation.js"></script>
  <script>
    // Integration with game system
    if (window.mobileOrientationDetector) {
      // Listen for orientation changes
      window.addEventListener('orientationOverlayShown', (e) => {
        console.log('Orientation overlay shown - game should pause if running');
        // Pause game logic can be added here if needed
      });
      
      window.addEventListener('orientationOverlayHidden', (e) => {
        console.log('Orientation overlay hidden - game can resume');
      });
    }
  </script>
</body>
</html>