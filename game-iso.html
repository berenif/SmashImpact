<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0a0e27">
  <!-- Cache Control -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Smash Impact - Isometric View</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      user-select: none;
    }

    :root {
      --primary: #6366f1;
      --secondary: #22d3ee;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --bg-dark: #0a0e27;
      --surface: rgba(26, 31, 58, 0.9);
      --text: #e2e8f0;
      --text-muted: #94a3b8;
      --joystick-size: 120px;
      --joystick-knob: 50px;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      color: var(--text);
      overflow: hidden;
      position: fixed;
      width: 100%;
      height: 100%;
      touch-action: none;
    }

    .game-container {
      width: 100%;
      height: 100%;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .hud-top {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to bottom, rgba(10, 14, 39, 0.9), transparent);
      padding: env(safe-area-inset-top) 20px 20px;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .score-display {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    .score-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .score-label {
      font-size: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .score-value {
      font-size: 24px;
      font-weight: bold;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .timer {
      background: var(--surface);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      backdrop-filter: blur(10px);
    }

    .pause-btn {
      background: var(--surface);
      border: none;
      color: var(--text);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .pause-btn:active {
      transform: scale(0.95);
      background: var(--primary);
    }

    #gameCanvas {
      flex: 1;
      width: 100%;
      height: 100%;
      display: block;
      image-rendering: crisp-edges;
    }

    .mobile-controls {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 20px;
      padding-bottom: calc(20px + env(safe-area-inset-bottom));
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      pointer-events: none;
      z-index: 50;
    }

    .joystick-container {
      position: relative;
      width: var(--joystick-size);
      height: var(--joystick-size);
      pointer-events: all;
    }

    .joystick-base {
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(99, 102, 241, 0.2), rgba(99, 102, 241, 0.05));
      border: 2px solid rgba(99, 102, 241, 0.3);
      border-radius: 50%;
      backdrop-filter: blur(10px);
    }

    .joystick-knob {
      position: absolute;
      width: var(--joystick-knob);
      height: var(--joystick-knob);
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
      transition: none;
    }

    .action-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
      pointer-events: all;
    }

    .action-btn {
      width: 60px;
      height: 60px;
      background: radial-gradient(circle, rgba(34, 211, 238, 0.3), rgba(34, 211, 238, 0.1));
      border: 2px solid rgba(34, 211, 238, 0.4);
      border-radius: 50%;
      color: var(--secondary);
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      backdrop-filter: blur(10px);
      transition: all 0.1s ease;
      position: relative;
    }

    .action-btn.boost-btn {
      width: 70px;
      height: 70px;
      background: radial-gradient(circle, rgba(239, 68, 68, 0.3), rgba(239, 68, 68, 0.1));
      border-color: rgba(239, 68, 68, 0.4);
      color: var(--danger);
    }

    .action-btn:active {
      transform: scale(0.9);
      background: radial-gradient(circle, rgba(34, 211, 238, 0.5), rgba(34, 211, 238, 0.2));
    }

    .action-btn.boost-btn:active {
      background: radial-gradient(circle, rgba(239, 68, 68, 0.5), rgba(239, 68, 68, 0.2));
    }

    .btn-label {
      position: absolute;
      bottom: -20px;
      font-size: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .pause-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(10, 14, 39, 0.95);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 200;
    }

    .pause-overlay.active {
      display: flex;
    }

    .pause-menu {
      background: var(--surface);
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      min-width: 280px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .pause-title {
      font-size: 24px;
      margin-bottom: 20px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .pause-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .menu-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .menu-btn:active {
      transform: scale(0.95);
    }

    .menu-btn.secondary {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
    }

    .fps-counter {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.5);
      color: #0f0;
      padding: 5px 10px;
      border-radius: 5px;
      font-family: monospace;
      font-size: 12px;
      z-index: 150;
    }

    .health-container {
      position: absolute;
      top: 60px;
      left: 20px;
      right: 20px;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      z-index: 90;
    }

    .health-bar-wrapper {
      flex: 1;
      max-width: 200px;
    }

    .health-label {
      font-size: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 5px;
    }

    .health-bar {
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .health-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--success), var(--primary));
      transition: width 0.3s ease;
      border-radius: 4px;
    }

    .health-fill.enemy {
      background: linear-gradient(90deg, var(--danger), var(--warning));
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div class="hud-top">
      <div class="score-display">
        <div class="score-item">
          <span class="score-label">You</span>
          <span class="score-value" id="playerScore">0</span>
        </div>
        <div class="score-item">
          <span class="score-label">Enemy</span>
          <span class="score-value" id="enemyScore">0</span>
        </div>
      </div>
      
      <div class="timer" id="gameTimer">00:00</div>
      
      <button class="pause-btn" id="pauseBtn">⏸</button>
    </div>
    
    <div class="health-container">
      <div class="health-bar-wrapper">
        <div class="health-label">Your Health</div>
        <div class="health-bar">
          <div class="health-fill" id="playerHealth" style="width: 100%"></div>
        </div>
      </div>
      <div class="health-bar-wrapper" style="text-align: right;">
        <div class="health-label">Enemy Health</div>
        <div class="health-bar">
          <div class="health-fill enemy" id="enemyHealth" style="width: 100%"></div>
        </div>
      </div>
    </div>
    
    <div class="fps-counter" id="fpsCounter">FPS: 0</div>
    
    <canvas id="gameCanvas"></canvas>
    
    <div class="mobile-controls">
      <div class="joystick-container" id="joystick">
        <div class="joystick-base"></div>
        <div class="joystick-knob" id="joystickKnob"></div>
      </div>
      
      <div class="action-buttons">
        <button class="action-btn" id="attackBtn">
          ⚡
          <span class="btn-label">Attack</span>
        </button>
        <button class="action-btn boost-btn" id="boostBtn">
          🔥
          <span class="btn-label">Boost</span>
        </button>
      </div>
    </div>
    
    <div class="pause-overlay" id="pauseOverlay">
      <div class="pause-menu">
        <h2 class="pause-title">Game Paused</h2>
        <div class="pause-buttons">
          <button class="menu-btn" id="resumeBtn">Resume</button>
          <button class="menu-btn secondary" id="settingsBtn">Settings</button>
          <button class="menu-btn secondary" id="quitBtn">Quit to Menu</button>
        </div>
      </div>
    </div>
  </div>

  <script src="visual-effects.js?v=1755597949"></script>
  <script src="multiplayer.js?v=1755597949"></script>
  <script src="isometric-game.js?v=1755597949"></script>
</body>
</html>